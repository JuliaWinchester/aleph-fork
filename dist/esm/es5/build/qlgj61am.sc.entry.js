import{h}from"../aleph.core.js";import{a as DisplayMode,b as Orientation}from"./chunk-a3ddc7e5.js";var AlControlPanel=function(){function e(){this.boundingBoxEnabled=!1,this.displayMode=DisplayMode.MESH,this.orientation=Orientation.CORONAL,this.graphEnabled=!1}return e.prototype.watchStackhelper=function(){this.slicesIndex=void 0,this.slicesWindowCenter=void 0,this.slicesWindowWidth=void 0,this.volumeSteps=void 0,this.volumeWindowCenter=void 0,this.volumeWindowWidth=void 0},e.prototype._boundingBoxEnabled=function(e){this.boundingBoxEnabled=e,this.boundingBoxEnabledChanged.emit(e)},e.prototype._displayMode=function(e){this.displayMode=e,this.displayModeChanged.emit(e)},e.prototype._graphEnabled=function(e){this.graphEnabled=e,this.graphEnabledChanged.emit(e)},e.prototype._orientation=function(e){this.orientation=e,this.orientationChanged.emit(e)},e.prototype._slicesIndex=function(e){this.slicesIndex=e,this.slicesIndexChanged.emit(e)},e.prototype._slicesWindowCenter=function(e){this.slicesWindowCenter=e,this.slicesWindowCenterChanged.emit(e)},e.prototype._slicesWindowWidth=function(e){this.slicesWindowWidth=e,this.slicesWindowWidthChanged.emit(e)},e.prototype._volumeSteps=function(e){this.volumeSteps=e,this.volumeStepsChanged.emit(e)},e.prototype._volumeWindowCenter=function(e){this.volumeWindowCenter=e,this.volumeWindowCenterChanged.emit(e)},e.prototype._volumeWindowWidth=function(e){this.volumeWindowWidth=e,this.volumeWindowWidthChanged.emit(e)},e.prototype.renderDisplayModeToggle=function(){var e=this;return this.displayMode!==DisplayMode.MESH?h("ion-item",{style:{display:"var(--display-mode-display, block)"}},h("ion-icon",{name:"eye",slot:"start"}),h("select",{slot:"end",onChange:function(t){return e._displayMode(t.srcElement.value)}},h("option",{selected:this.displayMode===DisplayMode.SLICES,value:DisplayMode.SLICES},"Slices"),h("option",{selected:this.displayMode===DisplayMode.VOLUME,value:DisplayMode.VOLUME},"Volume"))):null},e.prototype.renderNodesToggle=function(){var e=this;return h("ion-item",{style:{display:"var(--graph-enabled-display, block)"}},h("ion-icon",{name:"add-circle",slot:"start"}),h("ion-toggle",{slot:"end",checked:this.graphEnabled,onIonChange:function(t){return e._graphEnabled(t.detail.checked)}}))},e.prototype.renderBoundingBoxEnabled=function(){var e=this;return h("ion-item",{style:{display:"var(--bounding-box-enabled-display, block)"}},h("ion-icon",{name:"cube",slot:"start"}),h("ion-toggle",{slot:"end",checked:this.boundingBoxEnabled,onIonChange:function(t){return e._boundingBoxEnabled(t.detail.checked)}}))},e.prototype._reverseNumber=function(e,t,n){return n+t-e},e.prototype.renderOptions=function(){var e=this;switch(this.displayMode){case DisplayMode.SLICES:if(!this.stackhelper||this.stackhelper&&!this.stackhelper.slice)break;var t,n=Object.keys(Orientation).indexOf(this.orientation.toUpperCase()),i=this.stackhelper.stack.zCosine;t=1===Math.round(i.x)?1:1===Math.round(i.y)?2:0;var o,a=Math.round((n+t)%3),s=Math.round((n+t+2)%3),l=this.stackhelper.stack.dimensionsIJK[Object.keys(this.stackhelper.stack.dimensionsIJK)[s]]-1;o=s!==this._lastStackOrientationIndex||void 0===this.slicesIndex?Math.floor(l/2):this.slicesIndex,this._lastStackOrientationIndex=s;var d=this.stackhelper.stack.minMax[1]-this.stackhelper.stack.minMax[0],r=void 0;r=void 0===this.slicesWindowWidth?d/2:this.slicesWindowWidth;var c=this.stackhelper.stack.minMax[0],u=this.stackhelper.stack.minMax[1],p=void 0;return p=void 0===this.slicesWindowCenter?u/2:this.slicesWindowCenter,this.stackhelper.orientation=a,this.stackhelper.index=o,this.stackhelper.slice.windowWidth=r,this.stackhelper.slice.windowCenter=p,h("div",null,this.renderBoundingBoxEnabled(),h("ion-item",{style:{display:"var(--slices-index-display, block)"}},h("ion-icon",{name:"swap",slot:"start"}),h("ion-range",{slot:"end",min:"0",max:l,value:o,onIonChange:function(t){return e._slicesIndex(t.detail.value)}})),h("ion-item",{style:{display:"var(--slices-orientation-display, block)"}},h("ion-icon",{name:"compass",slot:"start"}),h("select",{slot:"end",onChange:function(t){return e._orientation(t.srcElement.value)}},h("option",{selected:this.orientation===Orientation.CORONAL,value:Orientation.CORONAL},"Coronal"),h("option",{selected:this.orientation===Orientation.SAGGITAL,value:Orientation.SAGGITAL},"Saggital"),h("option",{selected:this.orientation===Orientation.AXIAL,value:Orientation.AXIAL},"Axial"))),h("ion-item",{style:{display:"var(--slices-window-center-display, block)"}},h("ion-icon",{name:"sunny",slot:"start"}),h("ion-range",{slot:"end",min:c,max:u,value:this._reverseNumber(p,c,u),onIonChange:function(t){return e._slicesWindowCenter(e._reverseNumber(t.detail.value,c,u))}})),h("ion-item",{style:{display:"var(--slices-window-width-display, block)"}},h("ion-icon",{name:"contrast",slot:"start"}),h("ion-range",{slot:"end",min:1,max:d,value:this._reverseNumber(r,1,d),onIonChange:function(t){return e._slicesWindowWidth(e._reverseNumber(t.detail.value,1,d))}})));case DisplayMode.VOLUME:if(!this.stackhelper)break;var m,b=this.stackhelper.stack.minMax[1]-this.stackhelper.stack.minMax[0];r=void 0,r=void 0===this.volumeWindowWidth?b/2:this.volumeWindowWidth;var v=this.stackhelper.stack.minMax[0],g=this.stackhelper.stack.minMax[1];return p=void 0,p=void 0===this.volumeWindowCenter?g/2:this.volumeWindowCenter,this.stackhelper.steps=m=void 0===this.volumeSteps?16:this.volumeSteps,this.stackhelper.windowWidth=r,this.stackhelper.windowCenter=p,h("div",null,this.renderBoundingBoxEnabled(),h("ion-item",{style:{display:"var(--volume-steps-display, block)"}},h("ion-icon",{name:"swap",slot:"start"}),h("ion-range",{slot:"end",min:1,max:128,value:m,onIonChange:function(t){return e._volumeSteps(t.detail.value)}})),h("ion-item",{style:{display:"var(--volume-window-center-display, block)"}},h("ion-icon",{name:"sunny",slot:"start"}),h("ion-range",{slot:"end",min:v,max:g,value:this._reverseNumber(p,v,g),onIonChange:function(t){e._volumeWindowCenter(e._reverseNumber(t.detail.value,v,g))}})),h("ion-item",{style:{display:"var(--volume-window-width-display, block)"}},h("ion-icon",{name:"contrast",slot:"start"}),h("ion-range",{slot:"end",min:1,max:b,value:this._reverseNumber(r,1,b),onIonChange:function(t){return e._volumeWindowWidth(e._reverseNumber(t.detail.value,1,b))}})));case DisplayMode.MESH:return this.renderBoundingBoxEnabled()}return null},e.prototype.render=function(){return[this.renderDisplayModeToggle(),this.renderNodesToggle(),this.renderOptions()]},Object.defineProperty(e,"is",{get:function(){return"al-control-panel"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"encapsulation",{get:function(){return"shadow"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"properties",{get:function(){return{boundingBoxEnabled:{type:Boolean,attr:"bounding-box-enabled",mutable:!0},displayMode:{type:String,attr:"display-mode",mutable:!0},graphEnabled:{type:Boolean,attr:"graph-enabled",mutable:!0},orientation:{type:String,attr:"orientation",mutable:!0},slicesIndex:{type:Number,attr:"slices-index",mutable:!0},slicesWindowCenter:{type:Number,attr:"slices-window-center",mutable:!0},slicesWindowWidth:{type:Number,attr:"slices-window-width",mutable:!0},stackhelper:{type:"Any",attr:"stackhelper",mutable:!0,watchCallbacks:["watchStackhelper"]},volumeSteps:{type:Number,attr:"volume-steps",mutable:!0},volumeWindowCenter:{type:Number,attr:"volume-window-center",mutable:!0},volumeWindowWidth:{type:Number,attr:"volume-window-width",mutable:!0}}},enumerable:!0,configurable:!0}),Object.defineProperty(e,"events",{get:function(){return[{name:"boundingBoxEnabledChanged",method:"boundingBoxEnabledChanged",bubbles:!0,cancelable:!0,composed:!0},{name:"displayModeChanged",method:"displayModeChanged",bubbles:!0,cancelable:!0,composed:!0},{name:"orientationChanged",method:"orientationChanged",bubbles:!0,cancelable:!0,composed:!0},{name:"slicesIndexChanged",method:"slicesIndexChanged",bubbles:!0,cancelable:!0,composed:!0},{name:"slicesWindowCenterChanged",method:"slicesWindowCenterChanged",bubbles:!0,cancelable:!0,composed:!0},{name:"slicesWindowWidthChanged",method:"slicesWindowWidthChanged",bubbles:!0,cancelable:!0,composed:!0},{name:"graphEnabledChanged",method:"graphEnabledChanged",bubbles:!0,cancelable:!0,composed:!0},{name:"volumeStepsChanged",method:"volumeStepsChanged",bubbles:!0,cancelable:!0,composed:!0},{name:"volumeWindowCenterChanged",method:"volumeWindowCenterChanged",bubbles:!0,cancelable:!0,composed:!0},{name:"volumeWindowWidthChanged",method:"volumeWindowWidthChanged",bubbles:!0,cancelable:!0,composed:!0}]},enumerable:!0,configurable:!0}),Object.defineProperty(e,"style",{get:function(){return"ion-item.sc-al-control-panel{--border-width:0 0 0 0;--inner-border-width:0 0 0 0}ion-item.sc-al-control-panel   select.sc-al-control-panel{padding:5px;min-width:100px}"},enumerable:!0,configurable:!0}),e}();export{AlControlPanel};